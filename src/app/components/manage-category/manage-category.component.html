<div fxLayout="column" fxLayoutAlign="stretch stretch">

  <div class='pad10' fxFlexFill>
    <mat-card-header>Category Management</mat-card-header><br />

    <form *ngIf="formVisible" (submit)="formSubmitted($event)">

      <div>
        <mat-form-field style='width: 150px;'>
          <mat-label>Category name</mat-label>
          <input name="txtListName" matInput type="text" [(ngModel)]="categoryName">
        </mat-form-field>
        &nbsp;<button mat-raised-button color="primary" [disabled]="categoryName===''">{{ actionVerb }}</button>&nbsp;
        <button mat-raised-button color="accent" type="button" (click)="toggleFormVisibility()">
          <mat-icon>close</mat-icon>
        </button>
      </div>

      <mat-checkbox color="primary" (change)="onCheckboxChange($event)" [checked]="categoryIsDefault">Default category at startup
      </mat-checkbox><br />

      <br />
      <mat-divider></mat-divider>

    </form>

    <!-- <div *ngIf="headers"> -->
    <mat-card-subtitle>Existing categories</mat-card-subtitle>
    <div class='scroll-container'>
      <mat-nav-list>
        <a mat-list-item *ngFor="let category of sortedCategories" (click)="onCategoryClick(category)">
          <!--  [routerLink]="['/ManageItem', header.id]"-->
          {{ category.name }}
        </a>
      </mat-nav-list>
    </div>
    <!-- </div> -->

    <button mat-mini-fab color="primary" type="button" (click)="toggleFormVisibility()" class="add-fab"
      matTooltip="Add category">
      <mat-icon *ngIf="!formVisible">add</mat-icon>
      <mat-icon *ngIf="formVisible">remove</mat-icon>
    </button>

  </div>
</div>